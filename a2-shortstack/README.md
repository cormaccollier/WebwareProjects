# Money Stocker
This is a stock portfolio application which can be used for people interested in investing / money to keep track of how well their stocks are performing. This application addresses the problem of not knowing how much you have made through the stock market at a glance, as most applications either show you your current price or are a bit cryptic in their display of overall portfolio performance. To make this possible, we allow users to add their stocks and view them in a tabular format (for individual stocks) and a chart display to see their overall performance at a glance, including total value, history, gain / loss, and investment returns. After completing this application, we can tell that this does address the problem as we are able to add our stocks and it becomes very easy to see if we are making money over time, testing among ourselves we added our stocks and could instantly get value out of this application.

## Team and Team Members
Team Stockers
http://a2-stockers.herokuapp.com

- Cormac Lynch-Collier
- Kyle Corry
- Matthew Kornitsky

## Technical Achievements
- **IEX Trading API**: After experimenting with node yahoo-finance APIs, we decided to switch to using the IEX trading API, which required us to do an HTTPS GET to their server from our server (`public/js/stock_finder.js`). The API took several parameters in GET URL format, so those were applied. Through some tests, it was revealed that the IEX market API (for getting the info for several stocks) was much slower than making back to back requests for single stocks. To do this, we implemented intermediate callbacks to keep track of how many stocks we received back, and once all of them were received we called the original callback with the data from all the stocks. To incorporate this code with the stocks from the DB, we pass in the results from the DB to the getStocks function and add the new and calculated (such as market value, original cost, etc) to the stock objects - this is what gets passed into the callback.
- **D3 / C3 Charts**: We decided early on that we would like to display the portfolio in a visual way to the user, and chose to do that with the D3 chart API. After getting some basic prototypes build using D3, it was decided that it would be better to use a chart library which used D3. We went with C3, which had a very simple chart generator and used D3 internally. Several charts were made from the data returned from the server and simple CSS classes were used to hide the charts until selected using the HTML `<select>` tag. The color of each stock in the charts is determined using a simple HSV formula in RGB space, to affect the saturation of the red or green depending on the percent gain or loss. The more green the stock is the closer to 100% or greater its gain is, and the more red it is the closer to -100% or greater negative its loss is.
- **User Authentication**:Users can quickly set up an account and login to view their investment portfolio on a personalized dashboard.
    - **Data Persistence**: In order to save the user from having to input their stocks each time they want to use our application, we stored and fetched user stock data from a Mongo Database. This involved setting up a MongoDB instance on Amazon AWS and using the Mongoose package to define schemas and interface the database.
    - **Password Hashing**: To add an extra layer of security for our users, the bcrypt password hashing library was used to salt and hash passwords before storing them in the database. Now if someone gains access to the database, they would have to generate dictionaries and compare them to each of the stored hashes.
- **Embedded JavaScript**: EJS templates were used to enable the sever to easily generate dynamic html files to send to clients.
- **XMLHTTPRequests**: In order to use the data from the forms (login, register, and add stock) we used XMLHTTPRequests to relay this information and udpdate the browser accordingly.


### Design/Evaluation Achievements
- **Charts**: To visually display the portfolio of a user, we implemented several charts. We believe that these enhance the experience of investing because you can instantly see if you are making money, and from which stocks without having to calculate it yourself. The first chart is a display of the gain / loss. The gain / loss chart displays each of the user's stocks in a bar chart with the height representing the amount of money made or lost from that individual stock. As discussed in the tech achievement for charts, the color of each stock represents the investment returns (a percentage). This assists the user by allowing them to see where they are making or losing the majority of their money at a glance. The second chart is the total value, shown as a donut chart. This chart allows the user to see how much of their portfolio is allocated to each stock - it displays the total market value as the value of the stock, also using the same color scheme as the gain / loss. The donut chart was chosen because it was a nice way to visualize the portfolio as being composed of several stocks, each composing a certain percentage of it. This might help the user invest in other stocks by divesting from a single stock that makes up a large portion of their portfolio, reducing the inherent risk of a single point of failure. The next chart is the investment returns chart, which displays data similarly to the gain / loss chart except that it has each bar representing the percent gain or loss, which will show the best performing stocks. The final chart is an area line chart, showing the gain / loss of the portfolio over the last month. This allows the user to see how well their pool of stocks is performing over time.
- **Homepage**: The homepage uses Bootstrap in addition to custom CSS styling to achieve a sleek and modern design. In order to follow the design techniques outlined in [6 Elements of Outstanding Homepage Design](http://www.inboundmarketingagents.com/inbound-marketing-agents-blog/bid/345449/6-elements-of-outstanding-homepage-design), we chose to include a background image then applied a blur filter so that the first page our users see, includes warm colors and looks professional.
- **Informative Errors**: When a user performs erroneous actions, a banner notification appears to let the user know why a certain action was prevented. These notifications appear when the user attempts to login with invalid credentials, does not fill required fields, attempts to sign up with a username that is already in use, or when the passwords on the sign up page do not match.

### Team Coordination Activities
Our team had a very large amount of experience in web development, so we didn't do any basic learning activities. We did meet several times to discuss features and work together to integrate code with features each of us worked on. We also assigned different features to our members based on their interests and notified each other of any breaking changes over slack.
